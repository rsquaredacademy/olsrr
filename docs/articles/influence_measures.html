<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="olsrr">
<title>Measures of Influence • olsrr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Measures of Influence">
<meta property="og:description" content="olsrr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">olsrr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <a class="dropdown-item" href="../articles/intro.html">Intro</a>
    <a class="dropdown-item" href="../articles/residual_diagnostics.html">Residual Diagnostics</a>
    <a class="dropdown-item" href="../articles/influence_measures.html">Measures of Influence</a>
    <a class="dropdown-item" href="../articles/heteroskedasticity.html">Heteroskedasticity</a>
    <a class="dropdown-item" href="../articles/regression_diagnostics.html">Collinearity Diagnostics</a>
    <a class="dropdown-item" href="../articles/variable_selection.html">Variable Selection</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reference">Reference</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reference">
    <a class="dropdown-item" href="../reference/index.html">Functions</a>
    <a class="dropdown-item" href="../articles/reference-media.html">Media</a>
    <a class="dropdown-item" href="../news/index.html">News</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rsquaredacademy/olsrr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Measures of Influence</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rsquaredacademy/olsrr/blob/HEAD/../../../../R/Packages/statistics/olsrr/vignettes/influence_measures.Rmd" class="external-link"><code>../../../../R/Packages/statistics/olsrr/vignettes/influence_measures.Rmd</code></a></small>
      <div class="d-none name"><code>influence_measures.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>It is possible for a single observation to have a great influence on
the results of a regression analysis. It is therefore important to
detect influential observations and to take them into consideration when
interpreting the results.</p>
<p><strong>olsrr</strong> offers the following tools to detect
influential observations:</p>
<ul>
<li>Cook’s D Bar Plot</li>
<li>Cook’s D Chart</li>
<li>DFBETAs Panel</li>
<li>DFFITs Plot</li>
<li>Studentized Residual Plot</li>
<li>Standardized Residual Chart</li>
<li>Studentized Residuals vs Leverage Plot</li>
<li>Deleted Studentized Residual vs Fitted Values Plot</li>
<li>Hadi Plot</li>
<li>Potential Residual Plot</li>
</ul>
<div class="section level3">
<h3 id="cooks-d-bar-plot">Cook’s D Bar Plot<a class="anchor" aria-label="anchor" href="#cooks-d-bar-plot"></a>
</h3>
<p>Bar Plot of Cook’s distance to detect observations that strongly
influence fitted values of the model. Cook’s distance was introduced by
American statistician R Dennis Cook in 1977. It is used to identify
influential data points. It depends on both the residual and leverage
i.e it takes it account both the <strong>x</strong> value and
<strong>y</strong> value of the observation.</p>
<p><strong>Steps to compute Cook’s distance:</strong></p>
<ul>
<li>delete observations one at a time.</li>
<li>refit the regression model on remaining <span class="math inline">\((n - 1)\)</span> observations</li>
<li>examine how much all of the fitted values change when the ith
observation is deleted.</li>
</ul>
<p>A data point having a large cook’s d indicates that the data point
strongly influences the fitted values.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_cooksd_bar.html">ols_plot_cooksd_bar</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/ckdbp-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="cooks-d-chart">Cook’s D Chart<a class="anchor" aria-label="anchor" href="#cooks-d-chart"></a>
</h3>
<p>Chart of Cook’s distance to detect observations that strongly
influence fitted values of the model.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_cooksd_chart.html">ols_plot_cooksd_chart</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/ckchart-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="dfbetas-panel">DFBETAs Panel<a class="anchor" aria-label="anchor" href="#dfbetas-panel"></a>
</h3>
<p>DFBETA measures the difference in each parameter estimate with and
without the influential point. There is a DFBETA for each data point i.e
if there are n observations and k variables, there will be <span class="math inline">\(n * k\)</span> DFBETAs. In general, large values
of DFBETAS indicate observations that are influential in estimating a
given parameter. Belsley, Kuh, and Welsch recommend 2 as a general
cutoff value to indicate influential observations and <span class="math inline">\(\frac{2}{\sqrt{n}}\)</span> as a size-adjusted
cutoff.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_dfbetas.html">ols_plot_dfbetas</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/dfbpanel-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="dffits-plot">DFFITS Plot<a class="anchor" aria-label="anchor" href="#dffits-plot"></a>
</h3>
<p>Proposed by Welsch and Kuh (1977). It is the scaled difference
between the <span class="math inline">\(i^{th}\)</span> fitted value
obtained from the full data and the <span class="math inline">\(i^{th}\)</span> fitted value obtained by deleting
the <span class="math inline">\(i^{th}\)</span> observation. DFFIT -
difference in fits, is used to identify influential data points. It
quantifies the number of standard deviations that the fitted value
changes when the ith data point is omitted.</p>
<p><strong>Steps to compute DFFITs:</strong></p>
<ul>
<li>delete observations one at a time.</li>
<li>refit the regression model on remaining observations</li>
<li>examine how much all of the fitted values change when the ith
observation is deleted.</li>
</ul>
<p>An observation is deemed influential if the absolute value of its
DFFITS value is greater than:</p>
<p><span class="math display">\[{2}*\sqrt{\frac{(p + 1)}{(n - p -
1)}}\]</span></p>
<p>A size-adjusted cutoff recommended by Belsley, Kuh, and Welsch is</p>
<p><span class="math display">\[{2}*\sqrt{\frac{p}{n}}\]</span></p>
<p>where n is the number of observations and p is the number of
predictors including intercept.</p>
<p>olsrr uses the size adjusted cutoff by default.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_dffits.html">ols_plot_dffits</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/dfitsplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="studentized-residual-plot">Studentized Residual Plot<a class="anchor" aria-label="anchor" href="#studentized-residual-plot"></a>
</h3>
<p>Plot for detecting outliers. Studentized deleted residuals (or
externally studentized residuals) is the deleted residual divided by its
estimated standard deviation. Studentized residuals are going to be more
effective for detecting outlying Y observations than standardized
residuals. If an observation has an externally studentized residual that
is larger than 3 (in absolute value) we can call it an outlier.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_resid_stud.html">ols_plot_resid_stud</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/srplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="standardized-residual-chart">Standardized Residual Chart<a class="anchor" aria-label="anchor" href="#standardized-residual-chart"></a>
</h3>
<p>Chart for detecting outliers. Standardized residual (internally
studentized) is the residual divided by estimated standard
deviation.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_resid_stand.html">ols_plot_resid_stand</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/srchart-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="studentized-residuals-vs-leverage-plot">Studentized Residuals vs Leverage Plot<a class="anchor" aria-label="anchor" href="#studentized-residuals-vs-leverage-plot"></a>
</h3>
<p>Graph for detecting influential observations.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">read</span> <span class="op">~</span> <span class="va">write</span> <span class="op">+</span> <span class="va">math</span> <span class="op">+</span> <span class="va">science</span>, data <span class="op">=</span> <span class="va">hsb</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_resid_lev.html">ols_plot_resid_lev</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/studlev-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="deleted-studentized-residual-vs-fitted-values-plot">Deleted Studentized Residual vs Fitted Values Plot<a class="anchor" aria-label="anchor" href="#deleted-studentized-residual-vs-fitted-values-plot"></a>
</h3>
<p>Graph for detecting outliers.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_resid_stud_fit.html">ols_plot_resid_stud_fit</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/dsrvsp-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="hadi-plot">Hadi Plot<a class="anchor" aria-label="anchor" href="#hadi-plot"></a>
</h3>
<p>Hadi’s measure of influence based on the fact that influential
observations can be present in either the response variable or in the
predictors or both. The plot is used to detect influential observations
based on Hadi’s measure.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_hadi.html">ols_plot_hadi</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/hadiplot-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="potential-residual-plot">Potential Residual Plot<a class="anchor" aria-label="anchor" href="#potential-residual-plot"></a>
</h3>
<p>Plot to aid in classifying unusual observations as high-leverage
points, outliers, or a combination of both.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ols_plot_resid_pot.html">ols_plot_resid_pot</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
<p><img src="influence_measures_files/figure-html/potres-1.png" width="480" style="display: block; margin: auto;"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.aravindhebbali.com" class="external-link">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
