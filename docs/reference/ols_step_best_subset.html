<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Select the subset of predictors that do the best at meeting some
well-defined objective criterion, such as having the largest R2 value or the
smallest MSE, Mallow's Cp or AIC. The default metric used for selecting the
model is R2 but the user can choose any of the other available metrics."><title>Best subsets regression — ols_step_best_subset • olsrr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Best subsets regression — ols_step_best_subset"><meta property="og:description" content="Select the subset of predictors that do the best at meeting some
well-defined objective criterion, such as having the largest R2 value or the
smallest MSE, Mallow's Cp or AIC. The default metric used for selecting the
model is R2 but the user can choose any of the other available metrics."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">olsrr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <a class="dropdown-item" href="../articles/intro.html">Intro</a>
    <a class="dropdown-item" href="../articles/residual_diagnostics.html">Residual Diagnostics</a>
    <a class="dropdown-item" href="../articles/influence_measures.html">Measures of Influence</a>
    <a class="dropdown-item" href="../articles/heteroskedasticity.html">Heteroskedasticity</a>
    <a class="dropdown-item" href="../articles/regression_diagnostics.html">Collinearity Diagnostics</a>
    <a class="dropdown-item" href="../articles/variable_selection.html">Variable Selection</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reference">Reference</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reference">
    <a class="dropdown-item" href="../reference/index.html">Functions</a>
    <a class="dropdown-item" href="../articles/reference-media.html">Media</a>
    <a class="dropdown-item" href="../news/index.html">News</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rsquaredacademy/olsrr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Best subsets regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/rsquaredacademy/olsrr/blob/HEAD/R/ols-best-subsets-regression.R" class="external-link"><code>R/ols-best-subsets-regression.R</code></a></small>
      <div class="d-none name"><code>ols_step_best_subset.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Select the subset of predictors that do the best at meeting some
well-defined objective criterion, such as having the largest R2 value or the
smallest MSE, Mallow's Cp or AIC. The default metric used for selecting the
model is R2 but the user can choose any of the other available metrics.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for default</span>
<span class="fu">ols_step_best_subset</span><span class="op">(</span>
  <span class="va">model</span>,
  max_order <span class="op">=</span> <span class="cn">NULL</span>,
  include <span class="op">=</span> <span class="cn">NULL</span>,
  exclude <span class="op">=</span> <span class="cn">NULL</span>,
  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rsquare"</span>, <span class="st">"adjr"</span>, <span class="st">"predrsq"</span>, <span class="st">"cp"</span>, <span class="st">"aic"</span>, <span class="st">"sbic"</span>, <span class="st">"sbc"</span>, <span class="st">"msep"</span>, <span class="st">"fpe"</span>,
    <span class="st">"apc"</span>, <span class="st">"hsp"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="co"># S3 method for ols_step_best_subset</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, model <span class="op">=</span> <span class="cn">NA</span>, print_plot <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>An object of class <code>lm</code>.</p></dd>


<dt>...</dt>
<dd><p>Other inputs.</p></dd>


<dt>max_order</dt>
<dd><p>Maximum subset order.</p></dd>


<dt>include</dt>
<dd><p>Character or numeric vector; variables to be included in selection process.</p></dd>


<dt>exclude</dt>
<dd><p>Character or numeric vector; variables to be excluded from selection process.</p></dd>


<dt>metric</dt>
<dd><p>Metric to select model.</p></dd>


<dt>x</dt>
<dd><p>An object of class <code>ols_step_best_subset</code>.</p></dd>


<dt>print_plot</dt>
<dd><p>logical; if <code>TRUE</code>, prints the plot else returns a plot object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>ols_step_best_subset</code> returns an object of class <code>"ols_step_best_subset"</code>.
An object of class <code>"ols_step_best_subset"</code> is a list containing the following:</p>
<dl><dt>metrics</dt>
<dd><p>selection metrics</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kutner, MH, Nachtscheim CJ, Neter J and Li W., 2004, Applied Linear Statistical Models (5th edition).
Chicago, IL., McGraw Hill/Irwin.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Best Subsets Regression    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         wt              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         hp wt           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         hp wt qsec      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4         disp hp wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                    Subsets Regression Summary                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, metric <span class="op">=</span> <span class="st">"adjr"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Best Subsets Regression    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         wt              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         hp wt           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         hp wt qsec      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4         disp hp wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                    Subsets Regression Summary                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, metric <span class="op">=</span> <span class="st">"cp"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Best Subsets Regression    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         wt              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         hp wt           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         hp wt qsec      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4         disp hp wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                    Subsets Regression Summary                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8268      0.8148      0.7811     2.3690    156.6523    66.5755    162.5153    215.5104    7.3563    0.2402    0.2091 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8348      0.8171       0.782     3.0617    157.1426    67.7238    164.4713    213.1929    7.4756    0.2461    0.2124 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4        0.8351      0.8107       0.771     5.0000    159.0696    70.0408    167.8640    220.8882    7.9497    0.2644    0.2259 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># maximum subset</span></span>
<span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">drat</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, max_order <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Best Subsets Regression  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         wt           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         hp wt        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         drat wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                    Subsets Regression Summary                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.7528      0.7446      0.7087    14.5346    166.0294    74.1040    170.4266    296.9167    9.8572    0.3199    0.2801 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8268      0.8148      0.7811     3.8082    156.6523    66.2706    162.5153    215.5104    7.3563    0.2402    0.2091 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8370      0.8196      0.7765     4.0467    156.7031    66.9790    164.0318    210.2851    7.3736    0.2428    0.2095 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot</span></span>
<span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">qsec</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span class="r-in"><span class="va">k</span> <span class="op">&lt;-</span> <span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">k</span><span class="op">)</span></span>
<span class="r-plt img"><img src="ols_step_best_subset-1.png" alt="" width="700" height="433"></span>
<span class="r-plt img"><img src="ols_step_best_subset-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># return only models including `qsec`</span></span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, include <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"qsec"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Best Subsets Regression    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         qsec            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         wt qsec         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         hp wt qsec      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      4         disp hp wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                      Subsets Regression Summary                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square      C(p)        AIC         SBIC        SBC         MSEP        FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.1753      0.1478      0.0754    107.0696    204.5881    109.5591    208.9853    990.6990    32.8899    1.0674    0.9347 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8264      0.8144      0.7786      2.4295    156.7205     66.6304    162.5834    215.9699     7.3720    0.2407    0.2095 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8348      0.8171       0.782      3.0617    157.1426     67.7238    164.4713    213.1929     7.4756    0.2461    0.2124 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4        0.8351      0.8107       0.771      5.0000    159.0696     70.0408    167.8640    220.8882     7.9497    0.2644    0.2259 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># exclude `hp` from selection process</span></span>
<span class="r-in"><span class="fu">ols_step_best_subset</span><span class="op">(</span><span class="va">model</span>, exclude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hp"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Best Subsets Regression  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Index    Predictors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      1         wt           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      2         wt qsec      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      3         disp wt qsec </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                    Subsets Regression Summary                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                        Adj.        Pred                                                                                           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model    R-Square    R-Square    R-Square     C(p)        AIC        SBIC        SBC         MSEP       FPE       HSP       APC  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1        0.7528      0.7446      0.7087    12.4809    166.0294    74.2916    170.4266    296.9167    9.8572    0.3199    0.2801 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2        0.8264      0.8144      0.7786     2.4295    156.7205    66.6304    162.5834    215.9699    7.3720    0.2407    0.2095 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3        0.8264      0.8078      0.7699     4.4293    158.7203    68.8815    166.0490    223.9676    7.8534    0.2585    0.2232 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: Akaike Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBIC: Sawa's Bayesian Information Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  SBC: Schwarz Bayesian Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  MSEP: Estimated error of prediction, assuming multivariate normality </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  FPE: Final Prediction Error </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  HSP: Hocking's Sp </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  APC: Amemiya Prediction Criteria </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.aravindhebbali.com" class="external-link">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

