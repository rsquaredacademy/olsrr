<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Variance inflation factor, tolerance, eigenvalues and condition indices."><title>Collinearity diagnostics — ols_coll_diag • olsrr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Collinearity diagnostics — ols_coll_diag"><meta property="og:description" content="Variance inflation factor, tolerance, eigenvalues and condition indices."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-inverse navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">olsrr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">Home</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-guides">Guides</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-guides">
    <a class="dropdown-item" href="../articles/intro.html">Intro</a>
    <a class="dropdown-item" href="../articles/residual_diagnostics.html">Residual Diagnostics</a>
    <a class="dropdown-item" href="../articles/influence_measures.html">Measures of Influence</a>
    <a class="dropdown-item" href="../articles/heteroskedasticity.html">Heteroskedasticity</a>
    <a class="dropdown-item" href="../articles/regression_diagnostics.html">Collinearity Diagnostics</a>
    <a class="dropdown-item" href="../articles/variable_selection.html">Variable Selection</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-reference">Reference</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-reference">
    <a class="dropdown-item" href="../reference/index.html">Functions</a>
    <a class="dropdown-item" href="../articles/reference-media.html">Media</a>
    <a class="dropdown-item" href="../news/index.html">News</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rsquaredacademy/olsrr">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Collinearity diagnostics</h1>
      <small class="dont-index">Source: <a href="https://github.com/rsquaredacademy/olsrr/blob/HEAD/R/ols-collinearity-diagnostics.R" class="external-link"><code>R/ols-collinearity-diagnostics.R</code></a></small>
      <div class="d-none name"><code>ols_coll_diag.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Variance inflation factor, tolerance, eigenvalues and condition indices.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ols_coll_diag</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ols_vif_tol</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ols_eigen_cindex</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model</dt>
<dd><p>An object of class <code>lm</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>ols_coll_diag</code> returns an object of class <code>"ols_coll_diag"</code>.
An object of class <code>"ols_coll_diag"</code> is a list containing the
following components:</p>
<dl><dt>vif_t</dt>
<dd><p>tolerance and variance inflation factors</p></dd>

<dt>eig_cindex</dt>
<dd><p>eigen values and condition index</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Collinearity implies two variables are near perfect linear combinations of
one another. Multicollinearity involves more than two variables. In the
presence of multicollinearity, regression estimates are unstable and have
high standard errors.</p>
<p><em>Tolerance</em></p>
<p>Percent of variance in the predictor that cannot be accounted for by other predictors.</p>
<p>Steps to calculate tolerance:</p>
<ul><li><p>Regress the kth predictor on rest of the predictors in the model.</p></li>
<li><p>Compute \(R^2\) - the coefficient of determination from the regression in the above step.</p></li>
<li><p>\(Tolerance = 1 - R^2\)</p></li>
</ul><p><em>Variance Inflation Factor</em></p>
<p>Variance inflation factors measure the inflation in the variances of the parameter estimates due to
collinearities that exist among the predictors. It is a measure of how much the variance of the estimated
regression coefficient \(\beta_k\)  is inflated by the existence of correlation among the predictor variables
in the model. A VIF of 1 means that there is no correlation among the kth predictor and the remaining predictor
variables, and hence the variance of \(\beta_k\) is not inflated at all. The general rule of thumb is that VIFs
exceeding 4 warrant further investigation, while VIFs exceeding 10 are signs of serious multicollinearity
requiring correction.</p>
<p>Steps to calculate VIF:</p>
<ul><li><p>Regress the kth predictor on rest of the predictors in the model.</p></li>
<li><p>Compute \(R^2\) - the coefficient of determination from the regression in the above step.</p></li>
<li><p>\(Tolerance = 1 / 1 - R^2 = 1 / Tolerance\)</p></li>
</ul><p><em>Condition Index</em></p>
<p>Most multivariate statistical approaches involve decomposing a correlation matrix into linear
combinations of variables. The linear combinations are chosen so that the first combination has
the largest possible variance (subject to some restrictions), the second combination
has the next largest variance, subject to being uncorrelated with the first, the third has the largest
possible variance, subject to being uncorrelated with the first and second, and so forth. The variance
of each of these linear combinations is called an eigenvalue. Collinearity is spotted by finding 2 or
more variables that have large proportions of variance (.50 or more) that correspond to large condition
indices. A rule of thumb is to label as large those condition indices in the range of 30 or larger.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Belsley, D. A., Kuh, E., and Welsch, R. E. (1980). Regression Diagnostics: Identifying Influential Data and
Sources of Collinearity. New York: John Wiley &amp; Sons.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># model</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">disp</span> <span class="op">+</span> <span class="va">hp</span> <span class="op">+</span> <span class="va">wt</span> <span class="op">+</span> <span class="va">drat</span>, data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># vif and tolerance</span></span></span>
<span class="r-in"><span><span class="fu">ols_vif_tol</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Variables Tolerance      VIF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      disp 0.1218116 8.209402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        hp 0.3454979 2.894373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        wt 0.1962092 5.096601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      drat 0.4386836 2.279547</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># eigenvalues and condition indices</span></span></span>
<span class="r-in"><span><span class="fu">ols_eigen_cindex</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Eigenvalue Condition Index    intercept        disp          hp           wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 4.692806914        1.000000 0.0002323252 0.001106455 0.002566185 0.0007172086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.240308641        4.419078 0.0036813894 0.034132904 0.031334562 0.0009394254</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.052153430        9.485821 0.0009192095 0.058394262 0.735003722 0.0700789813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.011406889       20.283026 0.0014476535 0.885725642 0.207337511 0.7179834661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.003324127       37.573144 0.9937194224 0.020640737 0.023758021 0.2102809185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           drat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0003775503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0148250672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0026259361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.0568226912</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.9253487552</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># collinearity diagnostics</span></span></span>
<span class="r-in"><span><span class="fu">ols_coll_diag</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tolerance and Variance Inflation Factor</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Variables Tolerance      VIF</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      disp 0.1218116 8.209402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        hp 0.3454979 2.894373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        wt 0.1962092 5.096601</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      drat 0.4386836 2.279547</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Eigenvalue and Condition Index</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Eigenvalue Condition Index    intercept        disp          hp           wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 4.692806914        1.000000 0.0002323252 0.001106455 0.002566185 0.0007172086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.240308641        4.419078 0.0036813894 0.034132904 0.031334562 0.0009394254</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.052153430        9.485821 0.0009192095 0.058394262 0.735003722 0.0700789813</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.011406889       20.283026 0.0014476535 0.885725642 0.207337511 0.7179834661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.003324127       37.573144 0.9937194224 0.020640737 0.023758021 0.2102809185</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           drat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.0003775503</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.0148250672</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.0026259361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.0568226912</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.9253487552</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.aravindhebbali.com" class="external-link">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

